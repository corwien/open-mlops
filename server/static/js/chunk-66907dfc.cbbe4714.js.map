{"version":3,"sources":["webpack:///./src/views/marketing-registry/AddCasePage.vue?976e","webpack:///./src/views/marketing-registry/AddCasePage.vue?ffe7","webpack:///./src/api/api.js","webpack:///./src/views/marketing-registry/AddCasePage.vue?1dd1","webpack:///src/views/marketing-registry/AddCasePage.vue","webpack:///./src/views/marketing-registry/AddCasePage.vue?1335","webpack:///./src/views/marketing-registry/AddCasePage.vue?9172"],"names":["axios","defaults","withCredentials","base","test","requestLogin","params","post","then","res","data","getCampaigns","headers","get","addCampaign","getAbExps","addAbExp","render","_vm","this","_h","$createElement","_c","_self","staticStyle","staticClass","attrs","size","slot","name","campaign_id","$route","_v","_s","abMetaData","app_type","creation_date","description","model","value","callback","$$v","activeNames","expression","nativeOn","$event","addNewExp","apply","arguments","ref","form","FormRules","modelData","on","selsExp","openAnnotation","scopedSlots","_u","key","fn","scope","row","altName","$set","trim","modelname","delModelHead","$index","length","addModelHead","_e","directives","rawName","handleSelect","getModelList","_l","item","index","id","searchApiList","selsChange","instance_status","instance_id","handleModelTest","total","handleCurrentChangeApi","staticRenderFns","baseExpSelected","mlexp","gexp","ModelProjects","apiListLoading","activeIndex","page","sels","abname","exposureNum","required","message","trigger","altlist","methods","getAbMetaData","$","type","url","async","ab_id","Authorization","timeout","success","self","center","keyPath","console","val","getModelsGroup","instance","ins_id","_list","param","handleCurrentChange","_item","expRegData","catch","handleChange","column","watch","deep","computed","mounted","component"],"mappings":"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","file":"js/chunk-66907dfc.cbbe4714.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCasePage.vue?vue&type=style&index=0&id=0133f52c&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCasePage.vue?vue&type=style&index=1&lang=scss&\"","import axios from 'axios'\n\naxios.defaults.withCredentials = true // 配置为true\nlet base = 'http://127.0.0.1:5001'\nexport const test = 'http://127.0.0.1:5001'\nexport const delpoySocketIP = `http://0.0.0.0:5001`\n\n\nexport const requestLogin = params => {\n    return axios.post(`${base}/login/userLogin`, params).then(res => res.data)\n}\n\nexport const setpwd = params => {\n    return axios.post(`${base}/setpwd`, params)\n}\n\n// 获取活动列表\nexport const getCampaigns = (headers, params) => {\n    return axios.get(`${base}/api/campaigns`, \n                     { params: params, headers: headers \n                     }).then(res => res.data)\n}\n// 添加活动\nexport const addCampaign = (headers, params) => {\n  return axios.post(`${base}/api/campaigns/add_campaign`, \n                    params, \n                    { headers \n                    }).then(res => res.data)\n}\n// 获取实验基础信息\nexport const getAbExps = (headers, params) => {\n    return axios.get(`${base}/api/campaigns/abexps`, \n                     { params: params, headers: headers }).then(res => res.data)\n}\n// 创建实验\nexport const addAbExp = (headers, params) => {\n  return axios.post(`${base}/api/campaigns/add_ab_exp`, params, \n                    { headers }).then(res => res.data)\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"30px\"}},[_c('el-divider'),_c('el-descriptions',{staticClass:\"margin-top\",attrs:{\"title\":\"实验基础信息\",\"column\":3,\"size\":_vm.size}},[_c('template',{slot:\"extra\"},[_c('router-link',{staticStyle:{\"text-decoration\":\"none\",\"color\":\"aliceblue\"},attrs:{\"to\":{ name: '活动管理', params: {campaign_id: this.$route.params.campaign_id}},\"align\":\"right\"}},[_c('el-button',{},[_c('i',{staticClass:\"el-icon-arrow-left\",staticStyle:{\"margin-right\":\"10px\"}}),_vm._v(\"返回活动管理\")])],1)],1),_c('el-descriptions-item',{attrs:{\"label\":\"实验名称\"}},[_vm._v(_vm._s(_vm.abMetaData.name))]),_c('el-descriptions-item',{attrs:{\"label\":\"实验类型\"}},[_c('el-tag',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(_vm._s(_vm.abMetaData.app_type))])],1),_c('el-descriptions-item',{attrs:{\"label\":\"创建于\"}},[_c('timeago',{attrs:{\"datetime\":_vm.abMetaData.creation_date,\"locale\":\"zh-CN\"}})],1),_c('el-descriptions-item',{attrs:{\"label\":\"实验描述\"}},[_vm._v(_vm._s(_vm.abMetaData.description))])],2),_c('el-collapse',{model:{value:(_vm.activeNames),callback:function ($$v) {_vm.activeNames=$$v},expression:\"activeNames\"}},[_c('el-collapse-item',{attrs:{\"title\":\"实验组创建及策略配置\",\"name\":\"1\"}},[_c('el-col',{staticClass:\"toolbar\",staticStyle:{\"padding-bottom\":\"10px\"},attrs:{\"span\":24}},[_c('el-button',{staticClass:\"return-list1\",staticStyle:{\"margin-left\":\"15px\",\"margin-right\":\"10px\"},attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.addNewExp.apply(null, arguments)}}},[_c('i',{staticClass:\"el-icon-plus\",staticStyle:{\"margin-right\":\"5px\",\"margin-left\":\"0px\"}}),_vm._v(\"保存\")]),_c('router-link',{staticStyle:{\"text-decoration\":\"none\",\"color\":\"aliceblue\"},attrs:{\"to\":{ name: '活动管理', params: {campaign_id: this.$route.params.campaign_id}},\"align\":\"right\"}},[_c('el-button',{staticClass:\"return-list1\"},[_vm._v(\"取消\")])],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.FormRules}},[_c('div',{staticStyle:{\"border\":\"1px solid #e6e6e6\",\"margin-bottom\":\"10px\",\"padding\":\"15px\"}},[_c('p',{staticStyle:{\"margin-bottom\":\"0\"}},[_vm._v(\"测试您的产品的多种变化。\")]),_c('p',[_vm._v(\" 注意：确保你的曝光率加起来是100%，并且你选择了一个基本的变体（出错的时候会统统发送给它）。\")]),_c('br'),_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":22}},[_c('el-table',{ref:\"multipleHeadTable\",attrs:{\"data\":_vm.form.modelData,\"highlight-current-row\":\"\"},on:{\"selection-change\":_vm.selsExp}},[_c('el-table-column',{attrs:{\"label-class-name\":\"出错时将只向选择实例发送请求\",\"render-header\":_vm.openAnnotation,\"type\":\"selection\",\"min-width\":\"5%\",\"label\":\"默认\"}}),_c('el-table-column',{attrs:{\"prop\":\"altName\",\"label\":\"实验组\",\"min-width\":\"20%\",\"label-class-name\":\"曝光的实验实例名称\",\"render-header\":_vm.openAnnotation},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"value\":scope.row.altName,\"placeholder\":\"请输入实验组名称\"},model:{value:(scope.row.altName),callback:function ($$v) {_vm.$set(scope.row, \"altName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"scope.row.altName\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"altName\",\"label\":\"实验组描述\",\"min-width\":\"30%\",\"label-class-name\":\"实验组描述\",\"render-header\":_vm.openAnnotation},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"value\":scope.row.description,\"placeholder\":\"请输入实验组描述\"},model:{value:(scope.row.description),callback:function ($$v) {_vm.$set(scope.row, \"description\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"scope.row.description\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"exposureNum\",\"label\":\"流量分配(%)\",\"min-width\":\"10%\",\"label-class-name\":\"各实例曝光比例\",\"render-header\":_vm.openAnnotation},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"placeholder\":\"请输入流量比率\"},model:{value:(scope.row.exposureNum),callback:function ($$v) {_vm.$set(scope.row, \"exposureNum\", $$v)},expression:\"scope.row.exposureNum\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"modelname\",\"label\":\"策略配置\",\"min-width\":\"20%\",\"label-class-name\":\"可以从策略库挑选或单独创建\",\"render-header\":_vm.openAnnotation},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"value\":scope.row.modelname,\"placeholder\":\"请输入策略\"},model:{value:(scope.row.modelname),callback:function ($$v) {_vm.$set(scope.row, \"modelname\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"scope.row.modelname\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"\",\"min-width\":\"10%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-delete\",staticStyle:{\"font-size\":\"30px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.delModelHead(scope.$index)}}})]}}])}),_c('el-table-column',{staticStyle:{\"margin-right\":\"6px\"},attrs:{\"label\":\"\",\"min-width\":\"15%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.$index===(_vm.form.modelData.length-1))?_c('el-button',{staticClass:\"el-icon-plus\",attrs:{\"size\":\"mini\"},on:{\"click\":_vm.addModelHead}}):_vm._e()]}}])})],1)],1)],1),_c('br'),_c('el-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.abMetaData.app_type!='普通实验'),expression:\"abMetaData.app_type!='普通实验'\"}],attrs:{\"gutter\":10}},[_c('h4',{staticStyle:{\"padding-left\":\"8px\"}},[_vm._v(\"请选择策略库的策略\")]),_c('br'),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticStyle:{\"height\":\"400px\",\"line-height\":\"100px\",\"overflow\":\"auto\",\"overflow-x\":\"hidden\",\"border\":\"1px solid #e6e6e6\"}},[_c('el-menu',{staticClass:\"el-menu-vertical-demo\",attrs:{\"active-text-color\":\"rgb(32, 160, 255)\",\"unique-opened\":true},on:{\"select\":_vm.handleSelect}},[_c('el-menu-item',{attrs:{\"index\":\"-1\"},nativeOn:{\"click\":function($event){return _vm.getModelList()}}},[_c('i',{staticClass:\"el-icon-menu\"}),_vm._v(\"所有策略\")]),_vm._l((_vm.ModelProjects),function(item,index){return [_c('el-menu-item',{key:item.id,staticClass:\"group\",attrs:{\"index\":index+''},nativeOn:{\"click\":function($event){return _vm.getModelList(item.id)}}},[_c('template',{slot:\"title\"},[_vm._v(_vm._s(item.name)+\"\\n                                \")])],2)]})],2)],1)]),_c('el-col',{attrs:{\"span\":18}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.apiListLoading),expression:\"apiListLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.searchApiList,\"highlight-current-row\":\"\",\"show-header\":true,\"max-height\":\"400\"},on:{\"selection-change\":_vm.selsChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"modelname\",\"label\":\"策略名称\",\"min-width\":\"15%\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                            \"+_vm._s(scope.row.model.name)+\"\\n                        \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"策略描述\",\"min-width\":\"25%\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                            \"+_vm._s(scope.row.model.description)+\"\\n                        \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"策略状态\",\"min-width\":\"25%\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.instance_status==='ok'&&_vm.instance_id===scope.row.id),expression:\"instance_status==='ok'&&instance_id===scope.row.id\"}],staticStyle:{\"padding\":\"2px 4px\",\"color\":\"#fff\",\"background-color\":\"#4BB74B\"}},[_vm._v(\"已上线\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.instance_status==='failed'&&_vm.instance_id===scope.row.id),expression:\"instance_status==='failed'&&instance_id===scope.row.id\"}],staticStyle:{\"padding\":\"2px 4px\",\"color\":\"#fff\",\"background-color\":\"#C0C0C0\"}},[_vm._v(\"未上线\")]),_c('el-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":function($event){return _vm.handleModelTest(scope.row)}}},[_vm._v(\"测试\")])]}}])})],1)],1)],1),_c('el-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.abMetaData.app_type!='普通实验'),expression:\"abMetaData.app_type!='普通实验'\"}]},[_c('el-col',{staticClass:\"toolbar\",attrs:{\"span\":24}},[_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"layout\":\"prev, pager, next\",\"page-size\":10,\"page-count\":_vm.total},on:{\"current-change\":_vm.handleCurrentChangeApi}})],1)],1)],1)])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div style=\"margin:30px\">\n        <el-divider></el-divider>\n        <el-descriptions class=\"margin-top\" title=\"实验基础信息\" :column=\"3\" :size=\"size\">\n            <template slot=\"extra\">\n                <router-link :to=\"{ name: '活动管理', params: {campaign_id: this.$route.params.campaign_id}}\" style='text-decoration: none;color: aliceblue;' align=\"right\">\n                    <el-button class=\"\" ><i class=\"el-icon-arrow-left\" style=\"margin-right: 10px;\"></i>返回活动管理</el-button>\n                </router-link>\n            </template>\n            <el-descriptions-item label=\"实验名称\">{{abMetaData.name}}</el-descriptions-item>\n            <el-descriptions-item label=\"实验类型\">\n                <el-tag size=\"small\" type=\"primary\">{{abMetaData.app_type}}</el-tag>\n            </el-descriptions-item>\n            <el-descriptions-item label=\"创建于\">\n                <timeago :datetime=\"abMetaData.creation_date\" locale=\"zh-CN\"></timeago>\n            </el-descriptions-item>\n            <el-descriptions-item label=\"实验描述\">{{abMetaData.description}}</el-descriptions-item>\n\n        </el-descriptions>\n        <el-collapse v-model=\"activeNames\">\n            <el-collapse-item title=\"实验组创建及策略配置\" name=\"1\">\n              <el-col :span=\"24\" class=\"toolbar\" style=\"padding-bottom: 10px;\">\n                  <el-button class=\"return-list1\" type=\"primary\" style=\"margin-left:15px;margin-right: 10px\" @click.native=\"addNewExp\"><i class=\"el-icon-plus\" style=\"margin-right: 5px;margin-left:0px\"></i>保存</el-button>\n                  <router-link :to=\"{ name: '活动管理', params: {campaign_id: this.$route.params.campaign_id}}\" style='text-decoration: none;color: aliceblue;' align=\"right\">\n                  <el-button class=\"return-list1\" >取消</el-button>\n                 </router-link>\n              </el-col>\n                <el-col :span=\"24\">\n                    <el-form :model=\"form\" ref=\"form\" :rules=\"FormRules\">\n                        <div style=\"border: 1px solid #e6e6e6;margin-bottom: 10px;padding:15px\">\n                            <p style=\"margin-bottom: 0;\">测试您的产品的多种变化。</p>\n                            <p> 注意：确保你的曝光率加起来是100%，并且你选择了一个基本的变体（出错的时候会统统发送给它）。</p>\n                            <br>\n                            <el-row :gutter=\"10\">\n                                <el-col :span='22'>\n                                    <el-table :data=\"form.modelData\" highlight-current-row ref=\"multipleHeadTable\"\n                                              @selection-change=\"selsExp\">\n                                        <el-table-column label-class-name=\"出错时将只向选择实例发送请求\"\n                                                         :render-header=\"openAnnotation\"\n                                                         type=\"selection\"\n                                                         min-width=\"5%\" label=\"默认\">\n                                        </el-table-column>\n                                        <el-table-column  prop=\"altName\"\n                                                         label=\"实验组\"\n                                                         min-width=\"20%\"\n                                                         label-class-name=\"曝光的实验实例名称\"\n                                                         :render-header=\"openAnnotation\">\n                                            <template slot-scope=\"scope\">\n                                                <el-input v-model.trim=\"scope.row.altName\" :value=\"scope.row.altName\" placeholder=\"请输入实验组名称\"></el-input>\n                                            </template>\n                                        </el-table-column>\n                                        <el-table-column  prop=\"altName\"\n                                                         label=\"实验组描述\"\n                                                         min-width=\"30%\"\n                                                         label-class-name=\"实验组描述\"\n                                                         :render-header=\"openAnnotation\">\n                                            <template slot-scope=\"scope\">\n                                                <el-input v-model.trim=\"scope.row.description\" :value=\"scope.row.description\" placeholder=\"请输入实验组描述\"></el-input>\n                                            </template>\n                                        </el-table-column>\n                                        <el-table-column prop=\"exposureNum\"\n                                                         label=\"流量分配(%)\" min-width=\"10%\"\n                                                         label-class-name=\"各实例曝光比例\"\n                                                         :render-header=\"openAnnotation\">\n                                            <template slot-scope=\"scope\">\n                                                <el-input v-model=\"scope.row.exposureNum\" placeholder=\"请输入流量比率\"></el-input>\n                                            </template>\n                                        </el-table-column>\n                            <el-table-column  prop=\"modelname\"\n                                             label=\"策略配置\" min-width=\"20%\"\n                                             label-class-name=\"可以从策略库挑选或单独创建\"\n                                             :render-header=\"openAnnotation\"\n                                             >\n                                <template slot-scope=\"scope\">\n                                    <el-input v-model.trim=\"scope.row.modelname\" :value=\"scope.row.modelname\" placeholder=\"请输入策略\"></el-input>\n                                </template>\n                            </el-table-column>\n                            <el-table-column label=\"\" min-width=\"10%\">\n                                <template slot-scope=\"scope\">\n                                    <i class=\"el-icon-delete\" style=\"font-size:30px;cursor:pointer;\" @click=\"delModelHead(scope.$index)\"></i>\n                                </template>\n                            </el-table-column>\n                            <el-table-column label=\"\" min-width=\"15%\" style=\"margin-right:6px\">\n                                <template slot-scope=\"scope\">\n                                    <el-button v-if=\"scope.$index===(form.modelData.length-1)\" size=\"mini\" class=\"el-icon-plus\" @click=\"addModelHead\"></el-button>\n                                </template>\n                            </el-table-column>\n                        </el-table>\n                    </el-col>\n                </el-row>\n                <br>\n               <el-row :gutter=\"10\"  v-show=\"abMetaData.app_type!='普通实验'\">\n                   <h4 style=\"padding-left: 8px\">请选择策略库的策略</h4>\n                <br>\n                <el-col :span=\"6\">\n                    <div style=\"height:400px;line-height:100px;overflow:auto;overflow-x:hidden;border: 1px solid #e6e6e6\">\n                        <el-menu class=\"el-menu-vertical-demo\"\n                                 active-text-color=\"rgb(32, 160, 255)\"\n                                 :unique-opened=\"true\"\n                                 @select=\"handleSelect\">\n                            <el-menu-item index=\"-1\" @click.native=\"getModelList()\"><i class=\"el-icon-menu\"></i>所有策略</el-menu-item>\n                            <template v-for=\"(item,index) in ModelProjects\">\n                                <el-menu-item :index=\"index+''\" :key=\"item.id\" @click.native=\"getModelList(item.id)\" class=\"group\">\n                                    <template slot=\"title\">{{item.name}}\n                                    </template>\n                                </el-menu-item>\n                            </template>\n                        </el-menu>\n                    </div>\n                </el-col>\n                <el-col :span=\"18\">\n                    <el-table :data=\"searchApiList\" highlight-current-row v-loading=\"apiListLoading\"\n                              style=\"width: 100%;\" :show-header=\"true\" max-height=\"400\" @selection-change=\"selsChange\">\n                        <el-table-column type=\"selection\" width=\"55\">\n                        </el-table-column>\n                        <el-table-column prop=\"modelname\" label=\"策略名称\" min-width=\"15%\" sortable>\n                            <template slot-scope=\"scope\">\n                                {{scope.row.model.name}}\n                            </template>\n                        </el-table-column>\n                        <el-table-column prop=\"description\" label=\"策略描述\" min-width=\"25%\" sortable>\n                            <template slot-scope=\"scope\">\n                                {{scope.row.model.description}}\n                            </template>\n                        </el-table-column>\n                        <el-table-column prop=\"status\" label=\"策略状态\" min-width=\"25%\" sortable>\n                            <template slot-scope=\"scope\">\n                                <!--<img v-show=\"scope.row.status\" src=\"../../../assets/icon-yes.svg\"/>\n                                <img v-show=\"!scope.row.status\" src=\"../../../assets/icon-no.svg\"/>-->\n                                <span v-show=\"instance_status==='ok'&&instance_id===scope.row.id\"\n                                      style=\"padding: 2px 4px;color: #fff;background-color: #4BB74B;\">已上线</span>\n                                <span v-show=\"instance_status==='failed'&&instance_id===scope.row.id\"\n                                      style=\"padding: 2px 4px;color: #fff;background-color: #C0C0C0;\">未上线</span>\n                                <el-button @click=\"handleModelTest(scope.row)\" type=\"text\" style=\"margin-left:5px\" size=\"medium\">测试</el-button>\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                </el-col>\n            </el-row>\n            <el-row  v-show=\"abMetaData.app_type!='普通实验'\">\n            <el-col :span=\"24\" class=\"toolbar\">\n                <el-pagination layout=\"prev, pager, next\" @current-change=\"handleCurrentChangeApi\" :page-size=\"10\" :page-count=\"total\" style=\"float:right;\">\n                </el-pagination>\n            </el-col>\n                        </el-row>\n                    </div>\n                </el-form> </el-col>\n            </el-collapse-item>\n        </el-collapse>\n    </div>\n</template>\n\n<script>\nimport { test } from '@/api/api'\nimport $ from 'jquery'\n\nexport default {\n  data () {\n    return {\n        baseExpSelected: [],\n        mlexp:false,\n        gexp:false,\n        abMetaData:{},\n        activeNames:[\"1\"],\n        ModelProjects: [],\n        instance_status:\"failed\",\n        instance_id:0,\n        apiListLoading: false,\n        activeIndex: '',\n        searchApiList: [],\n        page: 1,\n        total: 0,\n        sels: [], // 列表选中列\n        form: {\n            abname: '',\n            description: '',\n            modelData: [{ altName: '', description:'',modelname: 'No Strategy', exposureNum: 50 }]\n        },\n        FormRules: {\n            modelname: [{ required: true, message: '请输入实验用例名称', trigger: 'blur' }],\n            altlist: [{ required: true, message: '请输入待测试的模型列表', trigger: 'blur' }]\n        }\n    }\n  },\n  methods: {\n      getAbMetaData () {\n          this.listLoading = true\n          let self = this\n          $.ajax({\n              type: 'get',\n              url: test + '/api/campaigns/get_abexp_metadata',\n              async: true,\n              data: { ab_id: this.$route.params.ab_id},\n              headers: {\n                  Authorization: 'Token ' + JSON.parse(sessionStorage.getItem('token'))\n              },\n              timeout: 5000,\n              success: function (data) {\n                  self.listLoading = false\n                  if (data.code === '999999') {\n                      self.abMetaData = data.data.data\n                  } else {\n                      self.$message.error({\n                          message: data.msg,\n                          center: true\n                      })\n                  }\n              }\n          })\n      },\n    addModelHead () {\n      let headers = { modelname: 'No Strategy',description:'', exposureNum: 50, altName: 'alt_name' }\n      this.form.modelData.push(headers)\n      // let rows = [this.form.modelData[this.form.modelData.length - 1]]\n      // this.form.modelData[this.form.modelData.length-1].exposureNum=50\n      // this.toggleHeadSelection(rows)\n    },\n    delModelHead (index) {\n      if (this.form.modelData.length !== 1) {\n        this.form.modelData.splice(index, 1)\n      }\n    },\n    handleSelect (key, keyPath) {\n      this.activeIndex = key\n      console.log(this.activeIndex)\n    },\n\n    handleCurrentChangeApi (val) {\n      // console.log(this.groupData[this.activeIndex][\"id\"]);\n      if (this.activeIndex['id']) {\n        this.page = val\n        this.getModelList()\n        // this.getModelList(this.groupData[this.activeIndex][\"id\"])\n      } else {\n        this.page = val\n        this.getModelList()\n      }\n    },\n      \n      selsExp (sels) {\n      this.baseExpSelected = sels\n    },\n\n    // 获取api分组\n    getModelsGroup () {\n      let self = this\n      $.ajax({\n        type: 'get',\n        url: test + '/api/models/project_group',\n        async: true,\n        data: { ab_id: this.$route.params.ab_id },\n        headers: {\n          Authorization: 'Token ' + JSON.parse(sessionStorage.getItem('token'))\n        },\n        timeout: 5000,\n        success: function (data) {\n          if (data.code === '999999') {\n            self.ModelProjects = data.data.data\n            console.log(self.ModelProjects,\"self.ModelProjects\")\n          } else {\n            self.$message.error({\n              message: data.msg,\n              center: true\n            })\n          }\n        }\n      })\n    },\n    handleModelTest(instance){\n      this.apiListLoading = true\n      let self = this\n      let param = JSON.stringify({ ab_id: Number(this.$route.params.ab_id), \n                   ins_id: instance.id })\n    console.log(param,\"ins_is\")\n      $.ajax({\n        type: 'post',\n        url: test + '/api/models/api_status_test',\n        async: true,\n        data: param,\n        headers: {\n            'Content-Type': 'application/json',\n          Authorization: 'Token ' + JSON.parse(sessionStorage.getItem('token'))\n        },\n        timeout: 5000,\n        success: function (data) {\n          self.apiListLoading = false\n          if (data.code === '999999') {\n            self.instance_status = data.data.data.status\n            self.instance_id = data.data.data.instance_id\n              console.log(self.instance_status,\"self.instance_status\")\n          } else {\n            self.$message.error({\n              message: data.msg,\n              center: true\n            })\n          }\n        }\n      })        \n    },\n    getModelList (_list) {\n      this.apiListLoading = true\n      let self = this\n      let param = { ab_id: Number(this.$route.params.ab_id), page: self.page }\n      if (_list) {\n        param['model_project_id'] = Number(_list)\n      }\n      $.ajax({\n        type: 'get',\n        url: test + '/api/models/api_list',\n        async: true,\n        data: param,\n        headers: {\n          Authorization: 'Token ' + JSON.parse(sessionStorage.getItem('token'))\n        },\n        timeout: 5000,\n        success: function (data) {\n          self.apiListLoading = false\n          if (data.code === '999999') {\n            self.searchApiList = data.data.data\n            self.total = data.data.total\n            console.log(self.searchApiList, 'searchApiList')\n          } else {\n            self.$message.error({\n              message: data.msg,\n              center: true\n            })\n          }\n        }\n      })\n    },\n\n    handleCurrentChange (val) {\n      this.currentRow = val\n    },\n    selsChange (sels) {\n      this.sels = sels\n      if (sels.length === 1 && this.form.modelData[0].altName === '') {\n        // 删除第一个空记录\n        this.form.modelData.splice(0, 1)\n      }\n        // 从模型api信息填充\n      sels.forEach((item) => {\n          let _item = item\n        _item.exposureNum = 50\n        _item.altName = item.name\n        _item.modelname=item.model.name\n          console.log(_item,\"ddddddddd\")\n        this.form.modelData.push(_item)\n        this.form.modelData = Array.from(new Set(this.form.modelData))\n      })\n\n    },\n    addNewExp () {\n      let self = this\n      this.$refs.form.validate((valid) => {\n        if (valid) {\n          let self = this\n          this.$confirm('确认提交实验吗？', '提示', {}).then(() => {\n            let param = JSON.stringify({\n              ab_id: Number(self.$route.params.ab_id),\n              expRegData: self.form.modelData,\n              // baseExpSelected: self.baseExpSelected,\n              //description: self.form.description// \"A/B exp create\"\n            })\n            console.log(param,\"param\")\n            $.ajax({\n              type: 'post',\n              url: test + '/api/campaigns/add_exp_alt',\n              async: true,\n              data: param,\n              headers: {\n                'Content-Type': 'application/json',\n                Authorization: 'Token ' + JSON.parse(sessionStorage.getItem('token'))\n              },\n              timeout: 5000,\n              success: function (data) {\n                if (data.code === '999999') {\n                  self.$router.push({ name: '实验组信息',\n                    params: { ab_id: self.$route.params.ab_id,\n                             campaign_id: self.$route.params.campaign_id}})\n                  self.$message({\n                    message: '保存成功',\n                    center: true,\n                    type: 'success'\n                  })\n                } else {\n                  self.$message.error({\n                    message: data.msg,\n                    center: true\n                  })\n                }\n              }\n            })\n          }).catch(() => {\n          })\n        }\n      })\n    },\n\n    // addApi: function () {\n    // header 需要\"Content-Type\": \"application/json\"\n    handleChange (val) {\n    },\n    openAnnotation: function (h, { column, $index }) {\n      return (\n        <el-tooltip class=\"item\" effect=\"dark\" content={column.labelClassName} placement=\"top\">\n          <span>{column.label}</span>\n        </el-tooltip>\n      )\n    }\n  },\n  watch: {\n    form: {\n      deep: true\n    }\n  },\n  computed: {\n  },\n  mounted () {\n    this.getAbMetaData()\n    this.getModelsGroup()\n    this.getModelList()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n    p {\n        margin: 0 0 10px;\n    }\n    .return-list {\n        margin-top: 0px;\n        margin-bottom: 10px;\n        border-radius: 25px;\n    }\n    .head-class {\n        font-size: 17px\n    }\n    .parameter-a {\n        display: block;\n    }\n    .parameter-b {\n        display: none;\n    }\n    .selectInput {\n        position: absolute;\n        /*margin-left: 7px;*/\n        padding-left: 9px;\n        width: 180px;\n        /*border-radius:0px;*/\n        /*height: 38px;*/\n        left: 1px;\n        border-right: 0px;\n    }\n</style>\n<style lang=\"scss\">\n    .selectInput{\n        input{\n            border-right: 0px;\n            border-radius: 4px 0px 0px 4px;\n        }\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCasePage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCasePage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddCasePage.vue?vue&type=template&id=0133f52c&scoped=true&\"\nimport script from \"./AddCasePage.vue?vue&type=script&lang=js&\"\nexport * from \"./AddCasePage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddCasePage.vue?vue&type=style&index=0&id=0133f52c&lang=scss&scoped=true&\"\nimport style1 from \"./AddCasePage.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0133f52c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}