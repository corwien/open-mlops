{"version":3,"sources":["webpack:///./src/views/marketing-registry/CampaignListPage.vue?fba6","webpack:///src/views/marketing-registry/CampaignListPage.vue","webpack:///./src/views/marketing-registry/CampaignListPage.vue?aa04","webpack:///./src/views/marketing-registry/CampaignListPage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","filters","nativeOn","$event","preventDefault","type","indexOf","_k","keyCode","key","getModelList","apply","arguments","model","value","callback","$$v","$set","expression","on","getCampaigns","_v","handleAdd","directives","name","rawName","campaigns","selsChange","scopedSlots","_u","fn","scope","slot","row","status","_e","params","campaign_id","id","_s","size","author","creation_date","data_campaign_type","campaign_status","_l","o","description","total","handleCurrentChange","addFormVisible","ref","addForm","addFormRules","trim","item","label","addLoading","addSubmit","staticRenderFns","data","forked","users","page","listLoading","sels","options","required","message","trigger","min","max","methods","handleFork","formatTime2","column","date","formatTime","getUserInfo","project_id","$","url","async","headers","Authorization","timeout","success","self","console","center","user_key","val","user","addCampaign","batchRemove","then","names","delProject","handleDel","mounted","component"],"mappings":"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AC,OAAAH,yBAAAC,iBAEAtB,aACA,CAAAoB,YAAAC,iBAAAC,gBACA,CAAAE,SAAAH,sBAAAC,kBAIAjB,SACA5B,QACAuB,kBAIAyB,SACAC,WADA,SACAnC,GACA,eAGAoC,YALA,SAKAzC,EAAA0C,GACA,8BACA,2BACAC,aAAA,IACAA,YAAA,IACAA,aAAA,IACAA,eAAA,IACAA,gBAEAC,yBACA,oBACA,6BACA,GAEA,sCAGAC,YAtBA,WAuBA,WAEA,GAAAC,uCACAC,UACA3E,WAEA4E,qCACAC,SACAtB,OACAuB,SACAC,oEAEAC,YACAC,oBACA,mBACAC,qBACAC,mCAEAD,kBACAnB,cACAqB,gBAOArE,aAlDA,WAmDA,oBACA,WACA,GAAA2C,YACA2B,oDACAlE,qBAEA,GACA,kCACA4D,oEAEAhE,sCACAmE,iBACA,YAAI,EAAJ,OAAI,EAAJ,OACA,cACAA,gBACAA,mBACAC,2CAEAD,kBACAnB,UACAqB,gBAKAxC,oBA5EA,SA4EA0C,GACA,YACA,qBAGArE,qBACA,wBAGAoC,qBAAA,WACA,yCACA,MACA,QACA,8CACA6B,gBAEA,sBACA/D,oBACAnB,oBACA0C,kCACA6C,kDAEA,GACA,kCACAR,oEAEAS,sCACA,YAAI,EAAJ,OACAN,gBACA,cACAA,YACAnB,mBACAqB,UACApF,iBAEAkF,iCACAA,oBACAA,kBACA,aACAA,kBACAnB,UACAqB,aAGAF,kBACAnB,UACAqB,YAEAF,iCACAA,oBACAA,6BAQAO,uBAAA,WACA,8CACA,iCACAzF,iBACA0F,MAAA,WACA,iBAEA,QACA,GAAAC,QAAAN,qDACA,GACA,kCACAN,oEAEAa,+CACA,YAAI,EAAJ,OACA,aACAV,YACAnB,mBACAqB,UACApF,iBAGAkF,kBACAnB,UACAqB,YAGAF,wBAKAW,wBAAA,WACA,gCACA7F,iBACA0F,MAAA,WACA,iBAEA,QACA,GAAAC,eACAN,qDACA,GACA,kCACAN,oEAEAa,+CACA,YAAI,EAAJ,OACA,aACAV,YACAnB,eACAqB,UACApF,iBAGAkF,kBACAnB,UACAqB,YAGAF,wBAIA5D,uBACA,cAGAwE,QA9OA,WA+OA,oBACA,qBChVyW,I,YCOrWC,EAAY,eACd,EACA7G,EACAoE,GACA,EACA,KACA,KACA,MAIa,aAAAyC,E","file":"js/chunk-2d21729f.81e8bf79.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('el-col',{staticClass:\"toolbar\",staticStyle:{\"padding-bottom\":\"0px\"},attrs:{\"span\":24}},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.filters},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"活动名称\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getModelList.apply(null, arguments)}},model:{value:(_vm.filters.name),callback:function ($$v) {_vm.$set(_vm.filters, \"name\", $$v)},expression:\"filters.name\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getCampaigns}},[_vm._v(\"查询\")])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"营销活动\")])],1)],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.campaigns,\"highlight-current-row\":\"\",\"show-header\":false},on:{\"selection-change\":_vm.selsChange}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"活动名称\",\"min-width\":\"20%\",\"sortable\":\"\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[(!scope.row.status)?_c('router-link',{staticStyle:{\"cursor\":\"pointer\",\"color\":\"#0000FF\",\"text-decoration\":\"underline\"},attrs:{\"to\":{ name: '活动管理', params: {campaign_id: scope.row.id}}}},[_vm._v(\"\\n                                     \"+_vm._s(scope.row.name)+\"\\n                        \")]):_vm._e(),_c('el-button',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\"},attrs:{\"type\":\"text\"}},[_vm._v(\"私有\")])],1),_c('el-descriptions',{staticClass:\"margin-top\",staticStyle:{\"margin-top\":\"0px\"},attrs:{\"title\":\"\",\"column\":3,\"size\":_vm.size}},[_c('el-descriptions-item',{attrs:{\"label\":\"活动编号\"}},[_vm._v(_vm._s(scope.row.id))]),_c('el-descriptions-item',{attrs:{\"label\":\"创建人\"}},[_vm._v(_vm._s(scope.row.author))]),_c('el-descriptions-item',{attrs:{\"label\":\"创建时间\"}},[_vm._v(_vm._s(scope.row.creation_date))]),_c('el-descriptions-item',{attrs:{\"label\":\"标签\"}},[_c('el-tag',{attrs:{\"size\":\"small\",\"type\":\"info\"}},[_vm._v(\"Tensorflow\")]),_c('el-tag',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"size\":\"small\",\"type\":\"info\"}},[_vm._v(\"推荐模型\")])],1),_c('el-descriptions-item',{attrs:{\"label\":\"活动类型\"}},[_vm._v(_vm._s(scope.row.data_campaign_type))]),(scope.row.campaign_status===0)?_c('el-descriptions-item',{attrs:{\"label\":\"活动状态\"}},[_c('el-tag',{attrs:{\"size\":\"small\"}},[_vm._v(\"测试中\")])],1):_vm._e(),(scope.row.campaign_status===1)?_c('el-descriptions-item',{attrs:{\"label\":\"活动状态\"}},[_c('el-tag',{attrs:{\"type\":\"warning\",\"size\":\"small\"}},[_vm._v(\"停止\")])],1):_vm._e()],1),_vm._l((1),function(o){return _c('div',{key:o,staticClass:\"text item\"},[_vm._v(\"\\n                        \"+_vm._s('活动描述：' + scope.row.description)+\"\\n                    \")])})],2)]}}])})],1),_c('el-col',{staticClass:\"toolbar\",attrs:{\"span\":24}},[_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"layout\":\"prev, pager, next\",\"page-size\":10,\"page-count\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{staticStyle:{\"width\":\"75%\",\"left\":\"12.5%\"},attrs:{\"title\":\"创建营销活动\",\"visible\":_vm.addFormVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.addFormVisible=$event}}},[_c('el-form',{ref:\"addForm\",attrs:{\"model\":_vm.addForm,\"label-width\":\"80px\",\"rules\":_vm.addFormRules}},[_c('el-row',{attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"活动名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.addForm.name),callback:function ($$v) {_vm.$set(_vm.addForm, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addForm.name\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"活动类型\",\"prop\":\"type\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.addForm.type),callback:function ($$v) {_vm.$set(_vm.addForm, \"type\", $$v)},expression:\"addForm.type\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"活动描述\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3},model:{value:(_vm.addForm.description),callback:function ($$v) {_vm.$set(_vm.addForm, \"description\", $$v)},expression:\"addForm.description\"}}),_c('span',[_vm._v(\"创建后，您可以通过编辑更新活动状态。\"),_c('el-link',{attrs:{\"href\":\"https://www.zhihu.com/people/leepand\",\"target\":\"_blank\",\"type\":\"primary\"}},[_vm._v(\"了解更多。\")])],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.addFormVisible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.addLoading},nativeOn:{\"click\":function($event){return _vm.addSubmit.apply(null, arguments)}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <section>\n        <!--工具条-->\n        <el-col :span=\"24\" class=\"toolbar\" style=\"padding-bottom: 0px;\">\n            <el-form :inline=\"true\" :model=\"filters\" @submit.native.prevent>\n                <el-form-item>\n                    <el-input v-model=\"filters.name\" placeholder=\"活动名称\" @keyup.enter.native=\"getModelList\">\n                    </el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"getCampaigns\">查询</el-button>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"handleAdd\" icon=\"el-icon-plus\">营销活动</el-button>\n                </el-form-item>\n            </el-form>\n        </el-col>\n        <el-table :data=\"campaigns\" highlight-current-row v-loading=\"listLoading\" \n                  :show-header=\"false\" \n                  @selection-change=\"selsChange\" style=\"width: 100%;\">\n            <el-table-column prop=\"name\" label=\"活动名称\" min-width=\"20%\" sortable show-overflow-tooltip>\n                <template slot-scope=\"scope\">\n                    <el-card class=\"box-card\">\n                        <div slot=\"header\" class=\"clearfix\">\n                            <router-link v-if=\"!scope.row.status\" :to=\"{ name: '活动管理', params: {campaign_id: scope.row.id}}\"\n                    style=\"cursor:pointer;color: #0000FF;text-decoration:underline\">\n                                         {{ scope.row.name }}\n                            </router-link>\n                            <el-button style=\"float: right; padding: 3px 0\" type=\"text\">私有</el-button>\n                        </div>\n                        <el-descriptions class=\"margin-top\" title=\"\" style=\"margin-top:0px\" :column=\"3\" :size=\"size\">\n                            <el-descriptions-item label=\"活动编号\">{{scope.row.id}}</el-descriptions-item>\n                            <el-descriptions-item label=\"创建人\">{{scope.row.author}}</el-descriptions-item>\n                            <el-descriptions-item label=\"创建时间\">{{scope.row.creation_date}}</el-descriptions-item>\n                            <el-descriptions-item label=\"标签\">\n                                <el-tag size=\"small\" type=\"info\">Tensorflow</el-tag>\n                                <el-tag size=\"small\" type=\"info\" style=\"margin-left:5px\">推荐模型</el-tag>\n                            </el-descriptions-item>\n                            <el-descriptions-item label=\"活动类型\">{{scope.row.data_campaign_type}}</el-descriptions-item>\n                            <el-descriptions-item label=\"活动状态\" v-if=\"scope.row.campaign_status===0\">\n                                <el-tag size=\"small\" >测试中</el-tag></el-descriptions-item>\n                            <el-descriptions-item label=\"活动状态\" v-if=\"scope.row.campaign_status===1\"><el-tag type=\"warning\" size=\"small\" >停止</el-tag></el-descriptions-item>\n                        </el-descriptions>\n                        <div v-for=\"o in 1\" :key=\"o\" class=\"text item\">\n                            {{'活动描述：' + scope.row.description }}\n                        </div>\n                    </el-card>\n                </template>\n            </el-table-column>\n        </el-table>\n        <!--工具条-->\n        <el-col :span=\"24\" class=\"toolbar\">\n            <el-pagination layout=\"prev, pager, next\"\n                           @current-change=\"handleCurrentChange\" \n                           :page-size=\"10\" :page-count=\"total\" \n                           style=\"float:right;\">\n            </el-pagination>\n        </el-col>\n        <!--新增界面-->\n        <el-dialog title=\"创建营销活动\" :visible.sync=\"addFormVisible\" :close-on-click-modal=\"false\" style=\"width: 75%; left: 12.5%\">\n            <el-form :model=\"addForm\" label-width=\"80px\" :rules=\"addFormRules\" ref=\"addForm\">\n                 <el-row :gutter=\"24\">\n                    <el-col :span=\"12\">\n                <el-form-item label=\"活动名称\" prop=\"name\">\n                    <el-input v-model.trim=\"addForm.name\" auto-complete=\"off\"></el-input>\n                </el-form-item>\n                        </el-col>\n                     <el-col :span=\"12\"> \n                          <el-form-item label=\"活动类型\" prop='type'>\n                            <el-select v-model=\"addForm.type\" placeholder=\"请选择\">\n                                <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n                                </el-option>\n                            </el-select>\n                        </el-form-item>\n                         \n                         </el-col>\n                      </el-row>\n                <el-form-item label=\"活动描述\" prop='description'>\n                    <el-input type=\"textarea\" :rows=\"3\" v-model=\"addForm.description\"></el-input>\n                    <span>创建后，您可以通过编辑更新活动状态。<el-link href=\"https://www.zhihu.com/people/leepand\" target=\"_blank\" type=\"primary\">了解更多。</el-link></span>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click.native=\"addFormVisible = false\">取消</el-button>\n                <el-button type=\"primary\" @click.native=\"addSubmit\" :loading=\"addLoading\">提交</el-button>\n            </div>\n        </el-dialog>\n    </section>\n</template>\n\n<script>\n// import NProgress from 'nprogress'\nimport $ from 'jquery'\nimport moment from 'moment'\nimport { test, getCampaigns, delProject, addCampaign } from '@/api/api'\n// import ElRow from \"element-ui/packages/row/src/row\";\nexport default {\n  // components: {ElRow},\n  data () {\n    return {\n        forked:-1,\n      users: {},\n      filters: {\n        name: ''\n      },\n      campaigns: [],\n      total: 0,\n      page: 1,\n      listLoading: false,\n      sels: [], // 列表选中列\n      addFormVisible: false, // 新增界面是否显示\n      addLoading: false,\n        options: [{ label: \"画像分群\", value: \"画像分群\"}, \n                  { label: \"个性化推荐\", value: \"个性化推荐\"}, \n                  { label: \"业务规则\", value: \"业务规则\"},\n                  { label: \"算法混合\", value: \"算法混合\"}],\n      addFormRules: {\n        name: [\n          { required: true, message: '请输入名称', trigger: 'blur' },\n          { min: 1, max: 50, message: '长度在 1 到 50 个字符', trigger: 'blur' }\n        ],\n        description: [\n          { required: false, message: '请输入版本号', trigger: 'blur' },\n          { max: 1024, message: '不能超过1024个字符', trigger: 'blur' }\n        ]\n      },\n      // 新增界面数据\n      addForm: {\n        name: '',\n        description: ''\n      }\n    }\n  },\n  methods: {\n      handleFork(id){\n        this.forked=id\n      },\n    // row[column.property] 能读取到该行该列的数据。代码中实现了时间格式的转换\n    formatTime2 (row, column) {\n      const date = new Date(row[column.property])\n      return date.getFullYear() + '-' +\n                    date.getMonth() + '-' +\n                    date.getDate() + ' ' +\n                    date.getHours() + ':' +\n                    date.getMinutes() + ':' +\n                    date.getSeconds()\n    },\n    formatTime: function (row, column) { // 日期格式化\n      var date = row[column.property]\n      if (typeof date === 'undefined') {\n        return ''\n      }\n      return moment(date).format('YYYY-MM-DD HH:mm:ss')\n    },\n\n    getUserInfo () {\n      let self = this\n\n      let param = { project_id: self.$route.params.project_id }\n      $.ajax({\n        type: 'get',\n        // url: test+\"/api/api/api_info\",\n        url: test + '/api/user/get_user_meta',\n        async: true,\n        data: param,\n        headers: {\n          Authorization: 'Token ' + JSON.parse(sessionStorage.getItem('token'))\n        },\n        timeout: 5000,\n        success: function (data) {\n          if (data.code === '999999') {\n            self.users = data.data.users\n            console.log(self.users, 'self.users')\n          } else {\n            self.$message.error({\n              message: data.msg,\n              center: true\n            })\n          }\n        }\n      })\n    },\n    // 获取模型项目列表\n    getCampaigns () {\n      this.listLoading = true\n      let self = this\n      let params = { page: self.page,\n        user_key: JSON.parse(sessionStorage.getItem('name')),\n        name: self.filters.name }\n      // let headers = {Authorization: 'Token '+JSON.parse(sessionStorage.getItem('token'))};\n      let headers = {\n        'Content-Type': 'application/json',\n        Authorization: 'Token ' + JSON.parse(sessionStorage.getItem('token'))\n      }\n      getCampaigns(headers, params).then((res) => {\n        self.listLoading = false\n        let { msg, code, data } = res\n        if (code === '999999') {\n          self.total = data.total\n          self.campaigns = data.data\n            console.log(self.campaigns,\"self.campaigns\")\n        } else {\n          self.$message.error({\n            message: msg,\n            center: true\n          })\n        }\n      })\n    },\n    handleCurrentChange (val) {\n      this.page = val\n      this.getCampaigns()\n    },\n    // 显示新增界面\n    handleAdd: function () {\n      this.addFormVisible = true\n    },\n    // 新增\n    addSubmit: function () {\n      this.$refs.addForm.validate((valid) => {\n        if (valid) {\n          let self = this\n          this.$confirm('确认提交吗？', '提示', {}).then(() => {\n            self.addLoading = true\n            // NProgress.start();\n            let params = JSON.stringify({\n              name: self.addForm.name,\n                type: self.addForm.type,\n              description: self.addForm.description,\n              user: JSON.parse(sessionStorage.getItem('name'))\n            })\n            let header = {\n              'Content-Type': 'application/json',\n              Authorization: 'Token ' + JSON.parse(sessionStorage.getItem('token'))\n            }\n            addCampaign(header, params).then(_data => {\n              let { msg, code } = _data\n              self.addLoading = false\n              if (code === '999999') {\n                self.$message({\n                  message: '营销活动添加成功',\n                  center: true,\n                  type: 'success'\n                })\n                self.$refs['addForm'].resetFields()\n                self.addFormVisible = false\n                self.getCampaigns()\n              } else if (code === '999997') {\n                self.$message.error({\n                  message: msg,\n                  center: true\n                })\n              } else {\n                self.$message.error({\n                  message: msg,\n                  center: true\n                })\n                self.$refs['addForm'].resetFields()\n                self.addFormVisible = false\n                self.getModelList()\n              }\n            })\n          })\n        }\n      })\n    },\n    // 批量删除\n    batchRemove: function () {\n      let names = this.sels.map(item => item.name)\n      this.$confirm('确认删除选中模型吗？', '提示', {\n        type: 'warning'\n      }).then(() => {\n        this.listLoading = true\n        // NProgress.start();\n        let self = this\n        let params = { names: names, user_key: JSON.parse(sessionStorage.getItem('name')) }\n        let header = {\n          'Content-Type': 'application/json',\n          Authorization: 'Token ' + JSON.parse(sessionStorage.getItem('token'))\n        }\n        delProject(header, params).then(_data => {\n          let { msg, code } = _data\n          if (code === '999999') {\n            self.$message({\n              message: '模型批量删除成功',\n              center: true,\n              type: 'success'\n            })\n          } else {\n            self.$message.error({\n              message: msg,\n              center: true\n            })\n          }\n          self.getModelList()\n        })\n      })\n    },\n    // 删除\n    handleDel: function (index, row) {\n      this.$confirm('确认删除该模型吗?', '提示', {\n        type: 'warning'\n      }).then(() => {\n        this.listLoading = true\n        // NProgress.start();\n        let self = this\n        let params = { names: [row.name],\n          user_key: JSON.parse(sessionStorage.getItem('name')) }\n        let header = {\n          'Content-Type': 'application/json',\n          Authorization: 'Token ' + JSON.parse(sessionStorage.getItem('token'))\n        }\n        delProject(header, params).then(_data => {\n          let { msg, code } = _data\n          if (code === '999999') {\n            self.$message({\n              message: '删除成功',\n              center: true,\n              type: 'success'\n            })\n          } else {\n            self.$message.error({\n              message: msg,\n              center: true\n            })\n          }\n          self.getModelList()\n        })\n      })\n    },\n    selsChange: function (sels) {\n      this.sels = sels\n    }\n  },\n  mounted () {\n    this.getCampaigns()\n    this.getUserInfo()\n  }\n}\n\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CampaignListPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CampaignListPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CampaignListPage.vue?vue&type=template&id=19f3efa4&\"\nimport script from \"./CampaignListPage.vue?vue&type=script&lang=js&\"\nexport * from \"./CampaignListPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}